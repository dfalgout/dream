"use strict";(()=>{var h=(r={})=>({fields:{},hasErrors:!1,pristine:!0,valid:!1,init(){for(let e in r){let s=r[e];if(this.fields[e]={value:"",rules:[],message:"",error:!1,touched:!1},s.includes(",")){let i=s.split(",");for(let a in i){let t=d(i[a]);this.fields[e].rules.push(t)}}else{let i=d(s);this.fields[e].rules.push(i)}this.$watch(`fields.${e}.value`,i=>this.validate(e,i))}},must:{required:{validate(e){if(!e||e==="")return"required"}},email:{validate(e){if(!e.match(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/))return"invalid email"}},minLength:{validate(e,s){if(s&&e.length<+s)return"should be at least "+s+" characters"}},maxLength:{validate(e,s){if(s&&e.length>+s)return"should be at most "+s+" characters"}},isNumber:{validate(e){if(!isNaN(e))return"should be a number"}},length:{validate(e,s){if(s&&e.length!==+s)return"length should be "+s}}},isValid(){if(this.pristine||this.hasErrors)return!1;let e=!0;for(let s in this.fields)if(!this.fields[s].touched){e=!1;break}return e},validate(e,s){let{rules:i}=this.fields[e];this.pristine=!1;for(let t in i){let{rule:f,param:n}=i[t],u=this.must[f].validate;if(u){let l="";if(n===void 0?l=u(s):l=u(s,n),l){this.fields[e].error=!0,this.fields[e].message=l,this.fields[e].touched=!0;break}else this.fields[e].error=!1,this.fields[e].message=""}}let a=!1;for(let t in this.fields)if(this.fields[t].error){a=!0;break}this.hasErrors=a,this.valid=this.isValid()}});function d(r){if(r.includes("=")){let[e,s]=r.split("=");return{rule:e,param:s}}else return{rule:r,param:void 0}}})();
